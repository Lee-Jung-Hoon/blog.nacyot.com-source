---
title: "아이파이썬 노트북(Ipython Notebook) 위에서 돌아가는 루비 커널 아이루비(Iruby)"
date: 2014-03-12 00:15:32 +0900
author: nacyot
---

문서광으로서 제 인생을 바꿔놨다고 할만큼 **훌륭한 플랫폼** 중 하나는 다름 아닌 위키위키였습니다. 그 이후로 제가 바라보는 지평도 많이 달라졌습니다만, 프로그래머이자 문서광으로서 위키 이래 제 인생을 바꿔놓은(을) 또 하나의 플랫폼은 다름 아닌 [아이파이썬 노트북][notebook]입니다. 아이파이썬 노트북은 훌륭합니다. 너무 훌륭해서 훌륭합니다.

[notebook]: http://ipython.org/notebook

<!--more-->

## 코드는 물이요 문서는 기름이라

저는 프로그래머는 문서화를 좋아하지 않는다는 말이 어페가 있다는 생각이 듭니다. 그건 기본적으로 코드와 문서가 근본적으로 물과 기름과 같은 존재이기 때문입니다. 코드와 문서는 근본적으로 완전히 다른 맥락에서 쓰여집니다. 이 문제를 해결하기 위해 합리적이지만 매우 안일한 방법은 코드를 작성하고 그 위에 주석 형태로 문서를 작성하는 일입니다. 이러한 방식은 코드에는 적합하지만 문서를 주석이라는 특수한 형태(코드에서는 의미가 없는)에 집어넣음으로서 문서의 맥락을 깨뜨려버립니다. 역발상도 있습니다. [knitr를 이용한 워드프래스 포스팅하기][knitr] 이 글에서는 마크다운 안에 코드를 넣고 자동으로 평가해주는 방식을 소개하고 있습니다. 에디터 설정에 따라 다를지도 모릅니다만, 거꾸로 이 방식은 마크다운이 코드의 맥락을 깨뜨려버립니다. 아아... 이 비통한 심정을 어떻게 표현해야할까요. 그렇다고 해서 코드와 문서화가 완전히 다른 곳에서 진행되는 것도 만족하기 어렵습니다. 물론 여기서 이야기한 몇  가지 방식은 서로 다른 형식의 문서화 방법입니다만 한가지 분명한 사실로 귀결됩니다. 다시 한 번 이야기하지만 코드와 문서는 물과 기름이고, 결코 쉽게 어울릴 수 없습니다.

[knitr]: http://freesearch.pe.kr/archives/3265

아이파이썬 노트북의 탁월함은 바로 이러한 사실을 철저하게 인정하는 도구라는 점입니다. 아이파이썬 노트북에서는 이러한 문제를 해결하기 위해 독립된 Cell이라는 개념을 도입합니다. Cell은 크게 문서화를 위한 마크다운 셀과 코드를 위한 코드 셀로 구성됩니다. 이러한 셀을 적절하게 번갈아가면서 사용할 수 있습니다. 코드 셀에서 코드를 작성하고 이렇게 작성된 코드를 파이썬으로 평가합니다. 그리고 마크다운 셀에서는 이렇게 평가된 결과에 대해서 적절한 맥락 하에서 이야기를 진행해나갑니다. 코멘트 문자 하나의 차이로 보일지도 모릅니다만, 맥락을 깨뜨리지 않는다는 건 그 이상으로 강력한 일입니다. 번갈아 가면서 사용되지만 코드는 평가되는 가운데 순차적으로 자신의 맥락을 유지해나갑니다. 이 안에서 살아있는(평가 가능한) 코드와 문서는 서로간의 독립성을 침범하지 않으면서 온전히 하나의 문서로 저장됩니다. 물론 아이파이썬 노트북이 모든 형태의 문서화를 커버할 수 있는 만능도구라는 건 결코 아닙니다만, 하나의 문서 안에서 코드와 문서를 분리했기 때문에 절묘하게 엮일 수 있는 문서화의 형식을 제시했다고 생각합니다.

## 아이'파이썬' 노트북, 아이파이썬 '노트북'

여기 저에게 한 가지 불행한 소식이 있습니다. 아이파이썬은 이름 그대로(!) 파이썬을 기반으로 하고 있는데, 저는 파이썬 프로그래머가 아닙니다.

하지만 불행 중 다행히도 아이파이썬 노트북은 파이썬만을 위한 도구가 아닙니다. 아이파이썬은 아이파이썬에 넘어온 데이터를 처리하는 커널이라는 개념을 가지고 있습니다. 입력이 들어오면 이 데이터를 ZeroMQ를 통해서 파이썬으로 보내고, 그 평가 결과를 화면에 보여주는 방식입니다. 문제가 되는 건 바로 저 커널이 파이썬이라는 점입니다. 그런데 아이파이썬은 이 커널을 적절히 소통 가능한 프로토콜만 지원한다면 바꿔낄 수 있도록 만들어져있습니다. 노트북은 이러한 결과를 웹소켓으로 아이파이썬 서버와 통신하면서 지속적으로 웹 상에서 갱신하며 보여주는 역할을 합니다. 상상하신 게 정확합니다. 아이파이썬은 커널만 바꿔끼우면 파이썬이 아니라 어떤 언어를 기반으로라도 문서화가 가능한 훌륭한 플랫폼입니다. 이것 또한 노트북이라는 아이디어가 파이썬에 종속되어있지 않고 설계되었다는 점을 여실히 보여주는 한 측면이라고 할 수 있습니다.

그리고 ZeroMQ를 통한 루비 평가 결과를 통신할 수 있도록 커널을 제공하는 Gem이 바로 Iruby입니다.

서론이 길었습니다. 이 글에서는 Iruby를 설치하고 사용하는 방법을 소개합니다.

## 설치

```

```

